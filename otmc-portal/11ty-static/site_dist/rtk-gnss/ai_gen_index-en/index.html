<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>OTMC — RTK GNSS (Overview)</title>
    <meta name="description" content="Overview and quick start guide for OTMC RTK GNSS: Rover and Base Station." />
    <style>
      :root {
        --bg: #0f1720;
        --card: #0b1220;
        --muted: #9aa6b2;
        --accent: #2dd4bf;
        --glass: rgba(255, 255, 255, 0.03)
      }

      html,
      body {
        height: 100%;
        margin: 0;
        font-family: Inter, Segoe UI, Roboto, Arial, sans-serif;
        background: linear-gradient(180deg, #071024 0%, #041824 100%);
        color: #e6eef6
      }

      .container {
        max-width: 980px;
        margin: 40px auto;
        padding: 24px
      }

      header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 18px
      }

      h1 {
        margin: 0;
        font-size: 28px
      }

      p.lead {
        color: var(--muted);
        margin: 6px 0 0
      }

      nav a {
        color: var(--accent);
        text-decoration: none;
        margin-left: 12px
      }

      .card {
        background: var(--card);
        border-radius: 12px;
        padding: 18px;
        margin-top: 18px;
        box-shadow: 0 6px 18px rgba(2, 6, 23, 0.6)
      }

      pre {
        background: linear-gradient(90deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01));
        padding: 12px;
        border-radius: 8px;
        overflow: auto;
        color: #d8f0ef
      }

      code {
        font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New", monospace
      }

      .grid {
        display: grid;
        grid-template-columns: 1fr 340px;
        gap: 16px
      }

      .tag {
        display: inline-block;
        padding: 6px 10px;
        border-radius: 999px;
        background: var(--glass);
        color: var(--muted);
        font-size: 13px
      }

      footer {
        margin-top: 28px;
        color: var(--muted);
        font-size: 13px
      }

      .button {
        display: inline-block;
        padding: 8px 12px;
        border-radius: 8px;
        background: var(--accent);
        color: #022;
        cursor: pointer;
        text-decoration: none
      }

      @media (max-width:900px) {
        .grid {
          grid-template-columns: 1fr
        }
      }
    </style>
  </head>

  <body>
    <div class="container">
      <header>
        <div>
          <h1>OTMC — RTK GNSS</h1>
          <p class="lead">Overview and quick start guide for RTK Rover and Base Station (English).</p>
        </div>
        <div>
          <span class="tag">ENGLISH</span>
          <nav aria-label="lang">
            <a href="/rtk-gnss/">中文</a>
            <a href="/rtk-gnss/ai_gen_index/">日本語</a>
          </nav>
        </div>
      </header>

      <main class="grid">
        <section>
          <article class="card">
            <h2>Project Overview</h2>
            <p>RTK GNSS (Real‑Time Kinematic) enables centimeter‑level positioning by combining carrier phase measurements and correction data from a reference station. The OTMC pages provide configuration and examples for running a Rover (mobile receiver) and a Base Station.</p>

            <h3>Pages</h3>
            <ul>
              <li><strong>RTK Rover</strong> — main client page for connecting USB/Bluetooth GNSS receivers and configuring serial parameters.</li>
              <li><strong>Base Station</strong> — register and configure a fixed base station, NTRIP / RTCM broadcasting settings, and team info.</li>
            </ul>

            <h3>Template placeholders</h3>
            <p>The site uses template variables to render account/team data. Example placeholders you may see in the HTML:</p>
            <pre><code>Account: {{account.name}}  
Team DID: {{account.did}}</code></pre>

            <h3>Suggested Features</h3>
            <ul>
              <li>Real‑time status (satellites, solution type, baseline length)</li>
              <li>NTRIP client/server controls and test tools</li>
              <li>Logs, OTA firmware, and team access control</li>
            </ul>
          </article>

          <article class="card" style="margin-top:16px">
            <h2>Quick Start — Rover</h2>
            <ol>
              <li>Use a GNSS receiver capable of RTCM or NMEA RTK output.</li>
              <li>Connect via USB or Bluetooth to your host (e.g., Raspberry Pi, PC).</li>
              <li>Open the /rtk-gnss/ page, select your module and configure serial parameters.</li>
              <li>Optionally connect to a Base Station or NTRIP caster for correction data.</li>
            </ol>

            <h4>Local testing commands</h4>
            <pre><code># List serial devices (Linux)
ls /dev/serial/by-id/

# Bridge serial -> TCP (socat example)
socat -d -d PTY,raw,echo=0,link=/tmp/rtk-usb TCP:localhost:5200

# Example: use RTKLIB str2str to forward serial to NTRIP
str2str -in serial:///dev/ttyUSB0:57600#rtcm3 -out ntrip://user:pass@caster:2101/mountpoint</code></pre>
          </article>

          <article class="card" style="margin-top:16px">
            <h2>Quick Start — Base Station</h2>
            <ol>
              <li>Place a high‑precision GNSS receiver at a known fixed point with stable power.</li>
              <li>Configure the receiver to output RTCM correction messages.</li>
              <li>Provide corrections via NTRIP or publish via TCP/UDP.</li>
              <li>Register base station info on the Base Station page (team, address, DID) and ensure network reachability.</li>
            </ol>

            <p><strong>Security tip:</strong> Use TLS, mTLS or VPN tunnels when exposing NTRIP or raw RTCM streams on the public internet.</p>
          </article>

          <article class="card" style="margin-top:16px">
            <h2>Example Configuration Snippets</h2>
            <pre><code># Example NTRIP server URL format
ntrip://username:password@caster.example.com:2101/mountpoint

# Example serial parameters
/dev/ttyUSB0, 57600 baud, 8N1

# Example static base station metadata (JSON)
{
  "id": "base-001",
  "lat": 35.6586,
  "lon": 139.7454,
  "height": 45.3,
  "did": "{{account.did}}"
}</code></pre>
          </article>

        </section>

        <aside>
          <div class="card">
            <h3>Quick Links</h3>
            <ul>
              <li><a href="/rtk-gnss/">RTK Rover page</a></li>
              <li><a href="/rtk-gnss/base-station/">Base Station page</a></li>
              <li><a href="#commands">Commands & Examples</a></li>
            </ul>
          </div>

          <div class="card" style="margin-top:12px">
            <h3>Contact & License</h3>
            <p class="muted" style="color:var(--muted)">This template is provided for demonstration. Replace placeholders with your team data and include proper licensing for production use.</p>
          </div>

          <div class="card" style="margin-top:12px">
            <h3>Download</h3>
            <p style="color:var(--muted)">Click to download this HTML file for hosting:</p>
            <button id="downloadBtn" class="button">Download HTML</button>
          </div>
        </aside>
      </main>

      <footer>
        <p>Generated English version of <code>/rtk-gnss/ai_gen_index/</code>. Replace template placeholders before publishing.</p>
      </footer>
    </div>

    <script>
      document.getElementById('downloadBtn').addEventListener('click', function() {
        const html = `<!doctype html>\n${document.documentElement.outerHTML}`;
        const blob = new Blob([html], {
          type: 'text/html'
        });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'rtk-gnss-ai_gen_index-en.html';
        document.body.appendChild(a);
        a.click();
        a.remove();
        URL.revokeObjectURL(url);
      });
    </script>
  </body>

</html>